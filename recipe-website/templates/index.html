{% extends "layout.html" %}

{% block heading %}
{% endblock %}

{% block content %}
    <div class="row mb-5">
      {% if this.page_title_img_url|length %}
        {% if this.is_img_url_profile == 'true' %}
        <div class="col-4 col-md-3 my-auto">
          <img src="{{ this.page_title_img_url|asseturl }}" alt="{{ this.page_title }}" class="img-profile img-fluid rounded-circle border border-dark">
        </div>
        <div class="col-8 col-md-9 my-auto">
        {% else %}
        <div class="col-4 col-md-2 my-auto">
          <img src="{{ this.page_title_img_url|asseturl }}" alt="{{ this.page_title }}" class="img-profile img-fluid rounded border border-dark">
        </div>
        <div class="col-8 col-md-10 my-auto">
        {% endif %}
          <h1 class="mb-0"> {{ this.page_title }} </h1>
        </div>
      {% else %}
        <div class="col my-auto">
          <h1 class="mb-0"> {{ this.page_title }} </h1>
        </div>
      {% endif %}
    </div>
    <h2 class="mb-4"> {{ this.page_header }} </h2>
    <p>
      {{ this.page_body }}
    </p>
    <hr class="my-4">
    {%- for recipe in this.recipes.blocks -%}
    <!-- THIS IS A REPEATING CARD -->
    <div class="container justify-content-between border border-dark rounded p-3 my-3">
      <div class="row">
        <div class="col-12 col-md-4 pb-3">
          <img src="{{ recipe.img_url|asseturl }}" alt="{{ recipe.title }}" class="img-fluid rounded border border-dark">
        </div>
        <div class="col-12 col-md-8">
          <h4> {{ recipe.recipe_title }} </h4>
          <ul class="my-auto list-unstyled">
            <li>
              <div class="row justify-content-start">
                <div class="col-4 col-md-3 me-lg-0">
                  <p class="my-0"><u>Origin:</u></p>
                </div>
                <div class="col-8 col-md-9">
                  <div class="d-flex justify-content-start">
                    <img src="{{ recipe.origin_img_url|asseturl }}" alt="Japanese Flag" class="img-fluid rounded border border-dark my-auto" style="max-height:16px;">
                    <p class="my-auto ps-2"> {{ recipe.origin }} </p>
                  </div>
                </div>
              </div>
            </li>
            <li>
              <div class="row justify-content-start">
                <div class="col-4 col-md-3 me-lg-0">
                  <p class="my-0"><u>Meal:</u></p>
                </div>
                <div class="col-8 col-md-9">
                  <p class="my-0"> {{ recipe.meal }} </p>
                </div>
              </div>
            </li>
            <li>
              <div class="row justify-content-start">
                <div class="col-4 col-md-3 me-lg-0">
                  <p class="my-0"><u>Difficulty:</u></p>
                </div>
                <div class="col-8 col-md-9">
                  <p class="my-0"> {{ recipe.difficulty }} </p>
                </div>
              </div>
            </li>
            <li>
              <div class="row justify-content-start">
                <div class="col-4 col-md-3 me-lg-0">
                  <p class="my-0"><u>About:</u></p>
                </div>
                <div class="col-8 col-md-9">
                  <p class="my-0">
                    <small> {{ recipe.about }} </small>
                  </p>
                </div>
              </div>
            </li>
          </ul>
          <div class="d-flex justify-content-end">
            <button onclick="location.href='{{ recipe.recipe_url|url }}'" type="button" class="btn btn-primary rounded mt-3 me-0 px-3" type="button"> I'm interested! </button>
          </div>
        </div>
      </div>
    </div>
    <!-- END CARD -->
    {%- endfor -%}
{% endblock %}
