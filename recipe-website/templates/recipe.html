{% extends "layout.html" %}

{% block content %}
    <h1> {{ this.title }} </h1>
    <br>
    <p>
      {{ this.about }}
    </p>
    <div class="container justify-content-between px-0">
      <!-- Image for mobile -->
      <div class="d-block d-sm-none col py-3">
        <img src="{{ this.img_url|asseturl }}" alt="{{ this.title }}" class="img-fluid rounded border border-dark">
      </div>
      <h3 class="pt-3 mb-3"><u> Ingredients </u></h3>
      <div class="row mt-3">
        <div class="col col-md-5">
          {%- for ingredient in this.ingredients.blocks -%}
            {% if ingredient.header|length %}
              {% if loop.index == 1 %}
                <h5><b> {{ ingredient.header }} </b></h5>
              {% else %}
                <h5 class="mt-3"><b> {{ ingredient.header }} </b></h5>
              {% endif %}
            {% endif %}
            <ul class="ps-3 ps-sm-4">
              {%- for sub_ingredient in ingredient.ingredient.blocks -%}
                <li> {{ sub_ingredient.sub_ingredient }} </li>
              {%- endfor -%}
            </ul>
          {%- endfor -%}
        </div>
        <!-- Image for desktop -->
        <div class="d-none d-sm-block col-md-7">
          <img src="{{ this.img_url|asseturl }}" alt="{{ this.title }}" class="img-fluid rounded border border-dark">
        </div>
      </div>
      <h3 class="pt-3 mb-3"><u> Instructions </u></h3>
      <div class="row mt-3">
        <div class="col">
          {%- for instruction in this.instructions.blocks -%}
            {% if instruction.header|length %}
              {% if loop.index == 1 %}
                <h5><b> {{ instruction.header }} </b></h5>
              {% else %}
                <h5 class="mt-3"><b> {{ instruction.header }} </b></h5>
              {% endif %}
            {% endif %}
            {% if instruction.sub_header|length %}
              <h6 class="mt-2 mb-1"><i> {{ instruction.sub_header }} </i></h6>
            {% endif %}
            <ol class="ps-3 ps-sm-4 mb-0">
              {%- for sub_instruction in instruction.instruction.blocks -%}
                <li> {{ sub_instruction.sub_instruction }} </li>
              {%- endfor -%}
            </ol>
          {%- endfor -%}
        </div>
      </div>
    </div>
{% endblock %}
